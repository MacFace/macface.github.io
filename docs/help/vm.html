<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/1999/REC-html401-19991224/loose.dtd"><html lang="ja"><head>  <meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">  <meta name="AppleFont" content="Osaka">  <meta name="AppleSearchResultsFont" content="Osaka">  <meta name="robots" content="anchors">  <title>MacFace ヘルプ: 仮想記憶について</title></head><body bgcolor="#ffffff" text="#000000"><table width="100%"><tr><td valign="top" width="150"><h1><img src="title.png" alt="MacFace ヘルプ"></h1><p><a href="index.html"><font size="2" face="ヒラギノ角ゴ Pro W3,Osaka">MacFace とは</font></a></p><p><a href="status-window.html"><font size="2" face="ヒラギノ角ゴ Pro W3,Osaka">ステータスウインドウ</font></a><br><a href="disk-graph.html"><font size="2" face="ヒラギノ角ゴ Pro W3,Osaka">ディスク消費グラフ</font></a><br><a href="prefs.html"><font size="2" face="ヒラギノ角ゴ Pro W3,Osaka">顔パターンの切り替え方法</font></a><br></p><p><a href="vm.html"><font size="2" face="ヒラギノ角ゴ Pro W3,Osaka">仮想記憶について</font></a><br><a href="unit.html"><font size="2" face="ヒラギノ角ゴ Pro W3,Osaka">単位について</font></a><br></p><p><a href="changelog.html"><font size="2" face="ヒラギノ角ゴ Pro W3,Osaka">更新履歴</font></a></p></td><td align="left" valign="top"><h2>仮想記憶について</h2><p><font size="3" face="ヒラギノ角ゴ Pro W3,Osaka">仮想記憶では、物理メモリの空きが足らなくなると、メモリの内容をページという単位でディスクに退避して空きを作り出します。これをページアウトといいます。ページアウトされたメモリが必要になると、ディスクからメモリに読み出して使えるようにします。これをページインといいます。どちらも仮想記憶では普通の動作ですが、慢性的に物理メモリの空きが足りない場合、ページアウトとページインが繰り返し起こり動作速度の低下をまねきます。これをスラッシングといい、あまり好ましくない状態です。MacFace ではこれをメモリが足りない状態として検出します。</font></p><h3>ページアウトとページイン</h3><p><font size="3" face="ヒラギノ角ゴ Pro W3,Osaka">free ページの数が別途定める閾値以下になると、カーネルはページアウトの処理を行います。inactive ページをディスクに退避し、free ページを増やします。free ページが余っているということは物理メモリにまだ余裕があるということを示しています。つまり、ページアウトの発生数が0ならば、物理メモリだけでやり繰りできているということになります。</font></p><p><font size="3" face="ヒラギノ角ゴ Pro W3,Osaka">ページインが発生する状況はふたつあります。ページアウトされてディスクに退避されていたページを物理メモリに戻す時と、起動されたプログラムの実行コードを読み込む時です。Mac を使う以上、後者の状況は必ず起こることなので、ページインが発生するのはごく普通の状況です。</font></p><p><font size="3" face="ヒラギノ角ゴ Pro W3,Osaka">MacOS X ではプログラムのロードにも仮想記憶の仕組みを使います。デマンドローディングといって、ページの割り付けは行いますが、必要になるまで内容を読み込みません。いきなりページアウトされているような感じだと思ってください。ですからプログラムを起動しただけではそれほどメモリを消費しません。とりあえず手持ちのソフトを全部起動してもページアウトが発生しなかったと喜んでいると残念な思いをするかもしれません。</font></p><p><font size="3" face="ヒラギノ角ゴ Pro W3,Osaka">詳しくは ADC の<A href="http://developer.apple.com/techpubs/macosx/Essentials/Performance/VirtualMemory/Virtual_Mem_on_Mac_OS_X.html">Virtual Memory on Mac OS X(英語)</A>をご覧ください。</font></p><p><font size="3" face="ヒラギノ角ゴ Pro W3,Osaka"></font></p></td></tr></table></body></html>